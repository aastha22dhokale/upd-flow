// Start parallel calls for the following 3 APIs
CompletableFuture<Void> updateExternalIdentifierAsync = CompletableFuture.runAsync(() ->
        updateExternalIdentifier(uuid, updateRequest));

CompletableFuture<Void> createPostalAddressAsync = CompletableFuture.runAsync(() ->
        addressService.createPostalAddress(uuid, orgNumber));

CompletableFuture<Void> createOrganisationUnitHierarchyAsync = CompletableFuture.runAsync(() -> {
    // Directly call OnePAM API with a fixed parentId
    String parentId = "DEFAULT_PARENT";  // no config check needed
    createOrganisationUnitHierarchy(uuid, parentId);
});

// Wait for all to complete
CompletableFuture.allOf(updateExternalIdentifierAsync, createPostalAddressAsync, createOrganisationUnitHierarchyAsync).join();

log.info("✔ All parallel operations completed for OU uuid={}", uuid);
log.info("Task completed ✅");  // Task completion log
